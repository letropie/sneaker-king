<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Sneaker King · Product</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/css/styles.css" rel="stylesheet">

</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom py-3">
  <div class="container">
    <a class="navbar-brand fw-bold" href="index.html">Sneaker King</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExample">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarsExample">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="shop.html">Shop</a></li>
        <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
        <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
        <li class="nav-item"><a class="nav-link" href="cart.html">Cart</a></li>
      </ul>
    </div>
  </div>
</nav>

<main class="container my-4">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="index.html">Home</a></li>
      <li class="breadcrumb-item"><a href="shop.html">Shop</a></li>
      <li class="breadcrumb-item active" aria-current="page"><span id="prod-breadcrumb"></span></li>
    </ol>
  </nav>

  <div class="row g-4">
    <div class="col-lg-6">
      <img id="prod-img" class="img-fluid rounded-4 shadow-sm w-100" src="" alt="Product image">
    </div>
    <div class="col-lg-6">
      <h1 id="prod-name" class="h3 fw-bold"></h1>
      <div id="prod-tag" class="mb-2"></div>
      <div class="fs-4 fw-semibold mb-3" id="prod-price"></div>
      <p class="text-muted">Lightweight comfort with responsive cushioning. Perfect for daily wear, workouts, and everything in between.</p>
      <div class="d-grid d-sm-flex gap-2">
        <button class="btn btn-dark btn-lg" id="add-to-cart">Add to cart</button>
        <a class="btn btn-outline-dark btn-lg" href="shop.html">Back to shop</a>
        <a class="btn btn-success btn-lg" href="contact.html" id="go-to-contact" style="display:none;">Go to Contact & Order</a>
      </div>
      <div class="mt-4">
        <h6 class="fw-semibold">Details</h6>
        <ul class="small text-muted">
          <li>Breathable upper materials</li>
          <li>Foam midsole for responsive feel</li>
          <li>Durable rubber outsole</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
    <div id="toast" class="toast align-items-center text-white bg-success border-0" role="alert">
      <div class="d-flex">
        <div class="toast-body">Added to cart!</div>
        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
      </div>
    </div>
  </div>
</main>
<footer class="border-top mt-5 py-4 bg-white">
  <div class="container d-flex flex-column flex-md-row align-items-center justify-content-between">
    <span class="text-muted small">© <span id="year"></span> Sneaker King. All rights reserved.</span>
    <ul class="list-inline mb-0 small">
      <li class="list-inline-item"><a href="about.html" class="text-muted text-decoration-none">About</a></li>
      <li class="list-inline-item"><a href="contact.html" class="text-muted text-decoration-none">Contact</a></li>
      <li class="list-inline-item"><a href="shop.html" class="text-muted text-decoration-none">Shop</a></li>
    </ul>
  </div>
</footer>
<script>
  document.getElementById('year').textContent = new Date().getFullYear();

  // Example: product data loaded from assets/js/product.js
  // Assume product object is available as window.product
  // If not, adjust accordingly to your data loading logic

  // Add to cart logic
  document.getElementById('add-to-cart').addEventListener('click', function() {
    // Example product data
    const product = window.product || {
      id: 1,
      name: document.getElementById('prod-name').textContent,
      price: parseFloat(document.getElementById('prod-price').textContent.replace(/[^0-9.]/g, '')),
      qty: 1
    };

    // Get cart from localStorage
    let cart = [];
    try {
      cart = JSON.parse(localStorage.getItem('cart')) || [];
    } catch (e) {}

    // Check if product already in cart
    const idx = cart.findIndex(item => item.id === product.id);
    if (idx > -1) {
      cart[idx].qty += 1;
    } else {
      cart.push(product);
    }

    // Save cart
    localStorage.setItem('cart', JSON.stringify(cart));

    // Show toast
    const toastEl = document.getElementById('toast');
    const toast = new bootstrap.Toast(toastEl);
    toast.show();

    // Show "Go to Contact & Order" button
    document.getElementById('go-to-contact').style.display = 'inline-block';
  });

  // Show "Go to Contact & Order" if cart has items
  window.addEventListener('DOMContentLoaded', function() {
    let cart = [];
    try {
      cart = JSON.parse(localStorage.getItem('cart')) || [];
    } catch (e) {}
    if (cart.length > 0) {
      document.getElementById('go-to-contact').style.display = 'inline-block';
    }
  });
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script src="assets/js/data.js"></script>
<script src="assets/js/product.js"></script>
</body>
</html>
